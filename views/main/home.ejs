<!DOCTYPE html>
<html lang="es">

<head>
  <%- include('../partials/head') %>
  <link rel="stylesheet" href="/css/home.css">
</head>

<body>
  <header>
    <header class="topbar">
      <%- include('../partials/header') %>
    </header>

    <nav class="sidebar">
      <%- include('../partials/menuLteral') %>
    </nav>

    <main>

      <!-- Carrusel principal -->
      <section class="main-carousel">
        <div class="carousel-wrapper">

          <% trending.slice(0, 4).forEach((item, index)=> { %>
            <div class="carousel-item <%= index === 0 ? 'active' : '' %>">
              <img src="https://image.tmdb.org/t/p/original<%= item.backdrop_path || item.poster_path %>"
                alt="<%= item.title || item.name %>">
              <div class="carousel-info">
                <div class="carousel-buttons">
                  <button class="btn-details">Detalles</button>
                  <button class="btn-watch">Ver ahora</button>
                </div>
              </div>
            </div>
          <% }); %>

          <button class="carousel-btn prev">&#10094;</button>
          <button class="carousel-btn next">&#10095;</button>
        </div>

        <div class="carousel-indicators">
          <% trending.slice(0, 4).forEach((item, index)=> { %>
            <span class="dot <%= index === 0 ? 'active' : '' %>"></span>
          <% }); %>
        </div>
      </section>


      <!-- ===== RECOMENDADOS ===== -->
      <section class="cards-section">
        <h3>Recomendados</h3>

        <div class="scroll-controls">
          <button class="scroll-btn left" data-target="recomendados">&#10094;</button>
          <button class="scroll-btn right" data-target="recomendados">&#10095;</button>
        </div>

        <div class="cards-container scrollable" id="recomendados">
          <% recomendados.forEach(item=> { %>
            <div class="card">
              <img src="https://image.tmdb.org/t/p/w500<%= item.poster_path %>" alt="<%= item.title || item.name %>">
            </div>
          <% }); %>
        </div>
      </section>


      <!-- ===== PELÍCULAS ===== -->
      <section class="cards-section">
        <h3>Películas</h3>

        <div class="scroll-controls">
          <button class="scroll-btn left" data-target="peliculas">&#10094;</button>
          <button class="scroll-btn right" data-target="peliculas">&#10095;</button>
        </div>

        <div class="cards-container scrollable" id="peliculas">
          <% peliculas.forEach(item=> { %>
            <div class="card">
              <img src="https://image.tmdb.org/t/p/w500<%= item.poster_path %>" alt="<%= item.title %>">
            </div>
          <% }); %>
        </div>
      </section>


      <!-- ===== SERIES ===== -->
      <section class="cards-section">
        <h3>Series</h3>

        <div class="scroll-controls">
          <button class="scroll-btn left" data-target="series">&#10094;</button>
          <button class="scroll-btn right" data-target="series">&#10095;</button>
        </div>

        <div class="cards-container scrollable" id="series">
          <% series.forEach(item=> { %>
            <div class="card">
              <img src="https://image.tmdb.org/t/p/w500<%= item.poster_path %>" alt="<%= item.name %>">
            </div>
          <% }); %>
        </div>
      </section>

    </main>

    <script src="/scripts/carru.js"></script>
    <script src="/scripts/scrollSections.js"></script>

</body>
</html>
